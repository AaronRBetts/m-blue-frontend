{"ast":null,"code":"import _regeneratorRuntime from\"/home/aaron/Desktop/maraetaiblue/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/aaron/Desktop/maraetaiblue/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/aaron/Desktop/maraetaiblue/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import Footer from'../Components/Footer';import'./styles.css';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];function loginUser(_x){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('https://maraetaiblue-concept.herokuapp.com/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(data.user){localStorage.setItem('token',data.user);window.location=data.redirect;}else{alert('Your username and password combination is incorrect');}console.log(data);case 9:case\"end\":return _context.stop();}}},_callee);}));return _loginUser.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"card auth\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"authBox\",id:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginUser,children:[/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"btn-primary\",type:\"submit\",value:\"Login\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/Register\",children:\"Register\"})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Login;","map":{"version":3,"sources":["/home/aaron/Desktop/maraetaiblue/server/client/src/Pages/Login.js"],"names":["React","useState","Link","Footer","Login","email","setEmail","password","setPassword","loginUser","event","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","user","localStorage","setItem","window","location","redirect","alert","console","log","e","target","value"],"mappings":"4eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAO,cAAP,CACA,MAAO,YAAP,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CACf,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eAFe,QAIAC,CAAAA,SAJA,uIAIf,iBAAyBC,KAAzB,oIACEA,KAAK,CAACC,cAAN,GADF,sBAEyBC,CAAAA,KAAK,CAAC,sDAAD,CAAyD,CACnFC,MAAM,CAAE,MAD2E,CAEnFC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF0E,CAKnFC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBZ,KAAK,CAALA,KADmB,CAEnBE,QAAQ,CAARA,QAFmB,CAAf,CAL6E,CAAzD,CAF9B,QAEQW,QAFR,qCAaqBA,CAAAA,QAAQ,CAACC,IAAT,EAbrB,QAaQC,IAbR,eAeE,GAAIA,IAAI,CAACC,IAAT,CAAe,CACbC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,IAAI,CAACC,IAAnC,EACAG,MAAM,CAACC,QAAP,CAAkBL,IAAI,CAACM,QAAvB,CACD,CAHD,IAGO,CACLC,KAAK,CAAC,qDAAD,CAAL,CACD,CACDC,OAAO,CAACC,GAAR,CAAYT,IAAZ,EArBF,sDAJe,4CA4Bf,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,aAAK,SAAS,CAAC,SAAf,CAAyB,EAAE,CAAC,OAA5B,wBACE,6BADF,cAEE,cAAM,QAAQ,CAAEX,SAAhB,wBACE,cAAO,KAAK,CAAEJ,KAAd,CAAqB,QAAQ,CAAE,kBAACyB,CAAD,QAAOxB,CAAAA,QAAQ,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAA/B,CAAgE,IAAI,CAAC,OAArE,CAA6E,WAAW,CAAC,OAAzF,EADF,cAEE,aAFF,cAGE,cAAO,KAAK,CAAEzB,QAAd,CAAwB,QAAQ,CAAE,kBAACuB,CAAD,QAAOtB,CAAAA,WAAW,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAlC,CAAsE,IAAI,CAAC,UAA3E,CAAsF,WAAW,CAAC,UAAlG,EAHF,cAIE,aAJF,cAKE,cAAO,SAAS,CAAC,aAAjB,CAA+B,IAAI,CAAC,QAApC,CAA6C,KAAK,CAAC,OAAnD,EALF,cAME,aANF,cAMQ,aANR,cAOE,4DAA0B,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,sBAA1B,GAPF,GAFF,GADF,cAaE,KAAC,MAAD,IAbF,GADF,CAiBD,CAED,cAAe5B,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom'\nimport Footer from '../Components/Footer'\nimport './styles.css'\nimport '../App.css'\n\nfunction Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  async function loginUser(event) {\n    event.preventDefault()\n    const response = await fetch('https://maraetaiblue-concept.herokuapp.com/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email, \n        password,\n      })\n    })\n\n    const data = await response.json();\n\n    if (data.user) {\n      localStorage.setItem('token', data.user)\n      window.location = data.redirect\n    } else {\n      alert('Your username and password combination is incorrect')\n    }\n    console.log(data)\n  }\n\n  return (\n    <div className=\"card auth\">\n      <div className=\"authBox\" id=\"login\">\n        <h1>Login</h1>\n        <form onSubmit={loginUser}>\n          <input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"Email\" />\n          <br />\n          <input value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" placeholder=\"Password\" />\n          <br />\n          <input className=\"btn-primary\" type=\"submit\" value=\"Login\"/>\n          <br /><hr />\n          <p>Don't have an account? <Link to=\"/Register\">Register</Link></p>\n        </form>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}